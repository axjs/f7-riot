<f7-app>
  <yield/>
  <script>  
  this.on('mount', function () {
    // Initialize your app
    
    opts.root = 'f7-app'	  
    console.info('f7', this)
	  
    var f7 = new Framework7(opts);

    // Export selectors engine
    var $$ = Dom7;
    
    riot.mixin({
      f7: f7,
      $$: $$
    })
    
    $$(document).on('pageBeforeInit', function(e) {
      riot.mount(e.target, '*')
    })	  
	  
    // Add view
    var mainView = f7.addView('.view-main', {
      // Because we use fixed-through navbar we can enable dynamic navbar
      dynamicNavbar: true
    });
   })    
  </script>
</f7-app>

<f7-statusbar>
	<div class="statusbar-overlay"></div>
</f7-statusbar>

<f7-input>
  <div class="item-input">
    <input type={ opts.type || 'text' } placeholder={ opts.placeholder } value={ opts.value }/>
  </div>
  
  <script>
  </script>
</f7-input>

<f7-select>
  <div class="item-input">
    <select >
      <option each={name, i in options}>{ name }</option>
    </select>
  </div>
  
  <script>
    this.options = (opts.options && opts.options.split(',')) || ['...']
  </script>
</f7-select>

<f7-slider>
  <div class="item-input">
    <div class="range-slider">
      <input type="range" min={min} max={max} value={value} step={step}/>
    </div>
  </div>

  <script>
    this.min = opts.min || 0
    this.max = opts.max || 100
    this.value = opts.value
    this.step = opts.step || 0.1
  </script>
</f7-slider>

<f7-checkbox>
  <div class="item-input">
    <label class="label-switch">
        <input type="checkbox"/>
        <div class="checkbox"></div>
    </label>
  </div>

  <script>
    this.options = (opts.options && opts.options.split(',')) || ['...']
  </script>
</f7-checkbox>

<f7-form>
  <div class="item-content">
    <div if={icon} class="item-media"><i class="icon {icon}"></i></div>
      <div class="item-inner">
        <div if={title} class="item-title label">{ title }</div>
            <yield/>
    </div>
  </div>
  
  <script>
    this.icon = opts.icon || ''
    this.title = opts.title || ''
  </script>
</f7-form>

<f7-list-item>
  <li>
   <a class="item-link {
			 back: opts.back === '', 
			 item-content: opts.content === '', 
			 close-panel: opts.close === ''
			 }"
      href={ opts.href || '#' }
      data-view={ opts.view }
      >
     <div class="item-content">	   
       <div if={ opts.icon } class="item-media"><i class="icon { opts.icon }"></i></div>
       <div class="item-inner">
         <div if={ opts.title} class="item-title">{ opts.title }</div>
         <yield/>
        </div>
      </div>
   </a>
  </li>

  <script>
  </script>
</f7-list-item>

<f7-list>
  <div class="list-block">
	  <ul>
    <yield/>
    </ul>  
   </div>

  <script>
  </script>
</f7-list>

<f7-link>
   <a class="item-link {
			 back: opts.back === '', 
			 item-content: opts.content === '', 
			 close-panel: opts.close === ''
			 }"
      href={ opts.href || '#' }
      data-view={ opts.view }
      >
     <div class="item-content">	   
       <div if={ opts.icon } class="item-media"><i class="icon { opts.icon }"></i></div>
       <div class="item-inner">
         <div if={ opts.title} class="item-title">{ opts.title }</div>
         <yield/>
        </div>
      </div>
   </a>

  <script>
  </script>
</f7-link>

<f7-panel>
  <div class="panel { 
	      panel-left:    opts.left === '', 
	      panel-right:   opts.right === '', 
	      panel-reveal:  opts.reveal === '', 
	      panel-cover:   opts.cover === '' 
	      }">
    <yield/>
  </div>
	<script>
    console.log('panel', this)
  </script>
</f7-panel>

<f7-pages>
  <div class="pages">
    <yield/>
  </div>
</f7-pages>

<f7-page>
  <div class="page"
       data-page={ opts.page }
       >
	  <div class="page-content">
    <yield/>
    </div>
  </div>
</f7-page>

<f7-views>
  <div class="views">
    <yield/>
  </div>
</f7-views>

<f7-view>
  <div class="view { 
	      view-left:      opts.left === '', 
	      view-right:     opts.right === '', 
	      view-main:      opts.main === '', 
	      navbar-through: opts.through === '' 
	      }">
    <yield/>
  </div>
</f7-view>

<f7-navbar>
  <div class="navbar">
    <div class="navbar-inner">
      <yield/>
    </div>
  </div>
</f7-navbar>

<f7-toolbar>
  <div class="toolbar">
    <div class="toolbar-inner"><yield/></div>
  </div>
</f7-toolbar>
